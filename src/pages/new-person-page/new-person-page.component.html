<main class="new-user__container">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="new-user__form">
    <app-back-button/>
    <h2>
      {{ isEditMode ? 'Редактировать пользователя' : 'Добавить пользователя' }}
    </h2>


    <label for="name">Имя:</label>
    <input id="name" formControlName="name" type="text" required/>

    <label for="username">Имя пользователя:</label>
    <input id="username" formControlName="username" type="text" required/>

    <label for="email">Email:</label>
    <input id="email" formControlName="email" type="email" required/>
    <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
      <small class="error">Некорректный email</small>
    </div>

    <fieldset formGroupName="address">
      <legend>Адрес</legend>

      <label for="street">Улица:</label>
      <input id="street" formControlName="street" type="text"/>

      <label for="suite">Дом/квартира:</label>
      <input id="suite" formControlName="suite" type="text"/>

      <label for="city">Город:</label>
      <input id="city" formControlName="city" type="text"/>

      <label for="zipcode">Индекс:</label>
      <input id="zipcode" formControlName="zipcode" type="text"/>

      <fieldset formGroupName="geo">
        <legend>Геолокация</legend>

        <label for="lat">Широта:</label>
        <input id="lat" formControlName="lat" type="text"/>

        <label for="lng">Долгота:</label>
        <input id="lng" formControlName="lng" type="text"/>
      </fieldset>
    </fieldset>

    <label for="phone">Телефон:</label>
    <input id="phone" formControlName="phone" type="text"/>

    <label for="website">Веб-сайт:</label>
    <input id="website" formControlName="website" type="text"/>

    <fieldset formGroupName="company">
      <legend>Компания</legend>

      <label for="companyName">Название:</label>
      <input id="companyName" formControlName="name" type="text"/>

      <label for="catchPhrase">Слоган:</label>
      <input id="catchPhrase" formControlName="catchPhrase" type="text"/>

      <label for="bs">Бизнес:</label>
      <input id="bs" formControlName="bs" type="text"/>
    </fieldset>

    <button type="submit" [disabled]="userForm.invalid || !userForm.dirty">
      {{ isEditMode ? 'Сохранить' : 'Добавить' }}
    </button>
  </form>
</main>
